{% extends "base.html" %}
{% block title %}Checkout{% endblock %}

{% block content %}
<h2>Checkout</h2>

<h4>Rezumat coș</h4>
<ul class="list-group mb-3">
  {% for item in products_items %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    {{ item.product.name }} (x{{ item.quantity }})
    <span>{{ "%.2f"|format(item.line_total) }} EUR</span>
  </li>
  {% endfor %}
  <li class="list-group-item d-flex justify-content-between align-items-center">
    <strong>Total</strong>
    <strong>{{ "%.2f"|format(total) }} EUR</strong>
  </li>
</ul>

<h4>Date livrare</h4>
<form method="post" class="row g-3">
  <div class="col-md-6">
    <label class="form-label">Nume complet</label>
    <input type="text" class="form-control" name="name" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Email</label>
    <input type="email" class="form-control" name="email" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Telefon</label>
    <input type="text" class="form-control" name="phone" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Oraș</label>
    <input type="text" class="form-control" name="city" required>
  </div>
  <div class="col-12">
    <label class="form-label">Adresă</label>
    <input type="text" class="form-control" name="address" required>
  </div>
  <div class="col-md-6">
    <label class="form-label">Metodă de plată</label>
    <select class="form-select" name="payment_method" required>
      <option value="card">Card</option>
      <option value="ramburs">Ramburs</option>
    </select>
  </div>
  <div class="col-12">
    <button class="btn btn-success">Plasează comanda</button>
  </div>
</form>
{% endblock %}